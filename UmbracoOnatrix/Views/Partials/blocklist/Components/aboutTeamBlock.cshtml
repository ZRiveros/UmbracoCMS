@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage<Umbraco.Cms.Core.Models.Blocks.BlockListItem>
@using Umbraco.Cms.Web.Common.PublishedModels
@using ContentModels = Umbraco.Cms.Web.Common.PublishedModels

@{
    var content = (ContentModels.AboutTeamBlock)Model.Content;
    var team = content.TeamMembersBlock?.ToList() ?? new List<Umbraco.Cms.Core.Models.Blocks.BlockListItem>();
}

<section class="team section">
    <div class="container">
        <p class="team__subtitle">@content.Subtitle</p>
        <h2 class="team__title">@content.Title</h2>

        <div class="team__grid">
            <div class="team__row-top">
                @for (int i = 0; i < Math.Min(3, team.Count); i++)
                {
                    var member = (ContentModels.TeamMemberBlock)team[i].Content;
                    var img = member.TeamMemberImage != null ? member.TeamMemberImage.Url() : "/img/team/default.png";
                    <div class="team__card">
                        <div class="team__image"><img src="@img" alt="@member.TeamMemberName" /></div>
                        <div class="team__info">
                            <h4>@member.TeamMemberName</h4>
                            <p>@member.TeamMemberRole</p>
                        </div>
                    </div>
                }
            </div>

            <div class="team__row-bottom">
                @for (int i = 3; i < team.Count; i++)
                {
                    var member = (ContentModels.TeamMemberBlock)team[i].Content;
                    var img = member.TeamMemberImage != null ? member.TeamMemberImage.Url() : "/img/team/default.png";
                    <div class="team__card">
                        <div class="team__image"><img src="@img" alt="@member.TeamMemberName" /></div>
                        <div class="team__info">
                            <h4>@member.TeamMemberName</h4>
                            <p>@member.TeamMemberRole</p>
                        </div>
                    </div>
                }
            </div>
        </div>

    </div>
</section>
